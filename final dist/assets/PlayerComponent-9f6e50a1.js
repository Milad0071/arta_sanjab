import{m as H,u as K,c as O,d as X,a as f,b as w}from"./axios-a01a6b08.js";import{p as P,I,K as z,L as J,g as b,M as U,c as h,d as j,bV as C,e as V,h as o,cV as D,b9 as G,cW as Y,ah as L,c9 as Z,cX as ee,ck as S,ct as te,cM as R,ai as ae,G as ne,cp as se,cq as oe,cw as ie,cx as le,bz as de,_ as re,k as l,l as k,q as p,ci as $,s as ce,t as E,v,H as B,F as A,z as ue,y as T,A as _,x as q}from"./index-f37c92ad.js";const m=Symbol.for("vuetify:v-expansion-panel"),pe=["default","accordion","inset","popout"],ve=P({color:String,static:Boolean,variant:{type:String,default:"default",validator:e=>pe.includes(e)},readonly:Boolean,...I(),...H(),...z(),...J()},"VExpansionPanels"),xe=b()({name:"VExpansionPanels",props:ve(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:a}=t;K(e,m);const{themeClasses:n}=U(e),r=h(()=>e.variant&&`v-expansion-panels--variant-${e.variant}`);return j({VExpansionPanel:{color:C(e,"color")},VExpansionPanelTitle:{readonly:C(e,"readonly"),static:C(e,"static")}}),V(()=>o(e.tag,{class:["v-expansion-panels",n.value,r.value,e.class],style:e.style},a)),{}}}),he=P({...I(),...D()},"VExpansionPanelText"),N=b()({name:"VExpansionPanelText",props:he(),setup(e,t){let{slots:a}=t;const n=G(m);if(!n)throw new Error("[Vuetify] v-expansion-panel-text needs to be placed inside v-expansion-panel");const{hasContent:r,onAfterLeave:d}=Y(e,n.isSelected);return V(()=>o(ee,{onAfterLeave:d},{default:()=>{var s;return[L(o("div",{class:["v-expansion-panel-text",e.class],style:e.style},[a.default&&r.value&&o("div",{class:"v-expansion-panel-text__wrapper"},[(s=a.default)==null?void 0:s.call(a)])]),[[Z,n.isSelected.value]])]}})),{}}}),Q=P({color:String,expandIcon:{type:S,default:"$expand"},collapseIcon:{type:S,default:"$collapse"},hideActions:Boolean,static:Boolean,ripple:{type:[Boolean,Object],default:!1},readonly:Boolean,...I()},"VExpansionPanelTitle"),W=b()({name:"VExpansionPanelTitle",directives:{Ripple:te},props:Q(),setup(e,t){let{slots:a}=t;const n=G(m);if(!n)throw new Error("[Vuetify] v-expansion-panel-title needs to be placed inside v-expansion-panel");const{backgroundColorClasses:r,backgroundColorStyles:d}=R(e,"color"),s=h(()=>({collapseIcon:e.collapseIcon,disabled:n.disabled.value,expanded:n.isSelected.value,expandIcon:e.expandIcon,readonly:e.readonly}));return V(()=>{var x;return L(o("button",{class:["v-expansion-panel-title",{"v-expansion-panel-title--active":n.isSelected.value,"v-expansion-panel-title--static":e.static},r.value,e.class],style:[d.value,e.style],type:"button",tabindex:n.disabled.value?-1:void 0,disabled:n.disabled.value,"aria-expanded":n.isSelected.value,onClick:e.readonly?void 0:n.toggle},[o("span",{class:"v-expansion-panel-title__overlay"},null),(x=a.default)==null?void 0:x.call(a,s.value),!e.hideActions&&o("span",{class:"v-expansion-panel-title__icon"},[a.actions?a.actions(s.value):o(ne,{icon:n.isSelected.value?e.collapseIcon:e.expandIcon},null)])]),[[ae("ripple"),e.ripple]])}),{}}}),me=P({title:String,text:String,bgColor:String,...I(),...se(),...O(),...D(),...oe(),...z(),...Q()},"VExpansionPanel"),ge=b()({name:"VExpansionPanel",props:me(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:a}=t;const n=X(e,m),{backgroundColorClasses:r,backgroundColorStyles:d}=R(e,"bgColor"),{elevationClasses:s}=ie(e),{roundedClasses:x}=le(e),c=h(()=>(n==null?void 0:n.disabled.value)||e.disabled),g=h(()=>n.group.items.value.reduce((u,i,y)=>(n.group.selected.value.includes(i.id)&&u.push(y),u),[])),F=h(()=>{const u=n.group.items.value.findIndex(i=>i.id===n.id);return!n.isSelected.value&&g.value.some(i=>i-u===1)}),M=h(()=>{const u=n.group.items.value.findIndex(i=>i.id===n.id);return!n.isSelected.value&&g.value.some(i=>i-u===-1)});return de(m,n),j({VExpansionPanelText:{eager:C(e,"eager")}}),V(()=>{const u=!!(a.text||e.text),i=!!(a.title||e.title);return o(e.tag,{class:["v-expansion-panel",{"v-expansion-panel--active":n.isSelected.value,"v-expansion-panel--before-active":F.value,"v-expansion-panel--after-active":M.value,"v-expansion-panel--disabled":c.value},x.value,r.value,e.class],style:[d.value,e.style]},{default:()=>{var y;return[o("div",{class:["v-expansion-panel__shadow",...s.value]},null),i&&o(W,{key:"title",collapseIcon:e.collapseIcon,color:e.color,expandIcon:e.expandIcon,hideActions:e.hideActions,ripple:e.ripple},{default:()=>[a.title?a.title():e.title]}),u&&o(N,{key:"text"},{default:()=>[a.text?a.text():e.text]}),(y=a.default)==null?void 0:y.call(a)]}})}),{}}}),ye={emits:["reset-app"],data:()=>({courseId:null,examContentId:null,videoContentId:null,video:"./../../../../Arta_Pardaz/sanjab-arta/src/assets/example.mp4",videoArray:[],purchasedCourses:[],questions:[]}),created(){this.getData()},methods:{getData(){f({method:"GET",url:`http://194.9.56.86/api/v1/dashboard/my-courses/?session=${this.$cookies.get("sessionId")}`,headers:{Authorization:`Bearer ${this.$cookies.get("userToken")}`,"Content-Type":"application/json"}}).then(e=>{console.log(e);for(let t=0;t<e.data.length;t++)this.courseId=e.data[t].id,this.$cookies.set("courseId",this.courseId),this.purchasedCourses.push({id:e.data[t].id,name:e.data[t].course.name,description:e.data[t].course.description,price:e.data[t].course.price,startDate:e.data[t].created_at,expireDate:e.data[t].expire_at});this.getContent(this.courseId),this.purchasedCourses.length>0?this.showCourses=!0:this.showCourses=!1}).catch(e=>{this.$swal("مشکلی پیش آمد!",e.message,"error")})},getContent(e){f({method:"GET",url:`http://194.9.56.86/api/v1/dashboard/my-course/${e}/?session=${this.$cookies.get("sessionId")}`,header:"application/json",headers:{Authorization:`Bearer ${this.$cookies.get("userToken")}`,"Content-Type":"application/json"}}).then(t=>{console.log(t);for(let a=0;a<t.data.length;a++)console.log(t.data[a].is_exam_writeable),t.data[a].content_type===6&&(this.examContentId=t.data[a].id,this.$cookies.set("examId",this.examContentId)),t.data[a].content_type==24&&(this.videoContentId=t.data[a].id),this.videoArray.push({name:t.data[a].content.name,description:t.data[a].content.description,url:t.data[a].content.url,examWritable:t.data[a].is_exam_writeable,videoId:t.data[a].id});console.log(this.videoArray)}).catch(t=>{this.$swal("مشکلی پیش آمد!",t.message,"error")})},removeQuestions(){this.questions=[]},showQuestions(){document.getElementById("questionBtn").style.display="none",f({method:"GET",url:`http://194.9.56.86/api/v1/exam/qs-list/${this.courseId}/${this.examContentId}/?session=${this.$cookies.get("sessionId")}`,header:"application/json",headers:{Authorization:`Bearer ${this.$cookies.get("userToken")}`,"Content-Type":"application/json"}}).then(e=>{console.log(e);for(let t=0;t<e.data[0].content.questions.length;t++)this.questions.push({no:e.data[0].content.questions[t].id,question:e.data[0].content.questions[t].question})}).catch(e=>{this.$swal("مشکلی پیش آمد!",e.message,"error")})},goToExam(){this.$emit("reset-app"),this.$router.push({name:"quizPage"})},makeDone(e){f({method:"GET",url:`http://194.9.56.86/api/v1/courses/video/${this.courseId}/${e}/?session=${this.$cookies.get("sessionId")}`,header:"application/json",headers:{Authorization:`Bearer ${this.$cookies.get("userToken")}`,"Content-Type":"application/json"}}).then(t=>{console.log(t)}).catch(t=>{this.$swal("مشکلی پیش آمد!",t.message,"error")})}}},fe={class:"mainContainer flex_column_class"},ke={key:0},_e={key:1},Ce=["href","onClick"],Pe={key:5,class:"quesionsContainer flex_column_class"},Ie={class:"mr-2"};function be(e,t,a,n,r,d){return l(),k(ce,{style:{"margin-right":"20%"},onContextmenu:t[3]||(t[3]=$(()=>{},["right","prevent"])),onCopy:t[4]||(t[4]=$(()=>{},["prevent"])),onPaste:t[5]||(t[5]=$(()=>{},["prevent"]))},{default:p(()=>[o(ue,{rtl:""},{default:p(()=>[E("div",fe,[o(xe,{variant:"popout"},{default:p(()=>[(l(!0),v(A,null,B(e.videoArray,(s,x)=>(l(),k(ge,{key:x},{default:p(()=>[o(W,{onClick:t[0]||(t[0]=c=>d.removeQuestions())},{default:p(()=>[T(_(s.name),1)]),_:2},1024),o(N,null,{default:p(()=>[s.description?(l(),v("p",ke,_(s.description),1)):(l(),v("div",_e,"نمونه سوالات مربوط به این محتوا:")),s.url?(l(),v("a",{key:2,href:s.url,target:"_blank",onClick:c=>d.makeDone(s.videoId)}," برای مشاهده ویدئو، کلیک نمایید. ",8,Ce)):s.examWritable==!1?(l(),k(w,{key:3,id:"questionBtn",color:"#525355",class:"text-none submitBtn",style:{"margin-top":"8%"},size:"large","min-width":"200",variant:"outlined",onClick:t[1]||(t[1]=c=>d.showQuestions())},{default:p(()=>[T(" مشاهده نمونه سوالات ")]),_:1})):s.examWritable==!0?(l(),k(w,{key:4,color:"#525355",class:"text-none submitBtn",style:{"margin-top":"8%"},size:"large","min-width":"200",variant:"outlined",onClick:t[2]||(t[2]=c=>d.goToExam())},{default:p(()=>[T(" ورود به آزمون ")]),_:1})):q("",!0),s.url?q("",!0):(l(),v("div",Pe,[(l(!0),v(A,null,B(e.questions,(c,g)=>(l(),v("div",{key:g,class:"questionClass flex_class"},[E("p",null,_(c.no)+"-",1),E("p",Ie,_(c.question),1)]))),128))]))]),_:2},1024)]),_:2},1024))),128))]),_:1})])]),_:1})]),_:1})}const Ee=re(ye,[["render",be],["__scopeId","data-v-8f0355a5"]]);export{Ee as default};
